<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=yes"
    />
    <title>Admin Dashboard - Golden Hills Restaurant Madinah</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
    <style>
      /* ===== RESET & BASE STYLES ===== */
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      :root {
        --primary-color: #c9a959;
        --secondary-color: #2c3e50;
        --accent-color: #e74c3c;
        --success-color: #27ae60;
        --warning-color: #f39c12;
        --danger-color: #e74c3c;
        --text-color: #333;
        --light-bg: #f9f9f9;
        --dark-bg: #1a1a1a;
        --white: #ffffff;
        --shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        --transition: all 0.3s ease;
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        line-height: 1.6;
        color: var(--text-color);
        background: var(--light-bg);
        min-height: 100vh;
      }

      .container {
        max-width: 1400px;
        margin: 0 auto;
        padding: 20px;
      }

      /* ===== ADMIN HEADER ===== */
      .admin-header {
        background: linear-gradient(
          135deg,
          var(--primary-color),
          var(--secondary-color)
        );
        color: var(--white);
        padding: 1rem 0;
        position: sticky;
        top: 0;
        z-index: 1000;
        box-shadow: var(--shadow);
      }

      .header-content {
        max-width: 1400px;
        margin: 0 auto;
        padding: 0 20px;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .logo-area {
        display: flex;
        align-items: center;
        gap: 1rem;
      }

      .logo-area i {
        font-size: 2rem;
      }

      .logo-area h1 {
        font-size: 1.5rem;
      }

      .logo-area span {
        font-size: 0.9rem;
        opacity: 0.9;
        display: block;
      }

      .admin-profile {
        display: flex;
        align-items: center;
        gap: 2rem;
      }

      .admin-info {
        display: flex;
        align-items: center;
        gap: 1rem;
      }

      .admin-avatar {
        width: 45px;
        height: 45px;
        background: rgba(255, 255, 255, 0.2);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.5rem;
      }

      .admin-details {
        text-align: right;
      }

      .admin-name {
        font-weight: 600;
      }

      .admin-role {
        font-size: 0.8rem;
        opacity: 0.8;
      }

      .btn-logout {
        background: rgba(255, 255, 255, 0.2);
        color: var(--white);
        border: none;
        padding: 0.5rem 1.5rem;
        border-radius: 25px;
        cursor: pointer;
        transition: var(--transition);
        display: flex;
        align-items: center;
        gap: 0.5rem;
        font-size: 0.9rem;
      }

      .btn-logout:hover {
        background: rgba(255, 255, 255, 0.3);
        transform: translateY(-2px);
      }

      /* ===== DASHBOARD LAYOUT ===== */
      .dashboard-container {
        display: grid;
        grid-template-columns: 250px 1fr;
        gap: 20px;
        margin-top: 20px;
      }

      /* ===== SIDEBAR ===== */
      .sidebar {
        background: var(--white);
        border-radius: 10px;
        box-shadow: var(--shadow);
        padding: 1.5rem;
        height: fit-content;
        position: sticky;
        top: 90px;
      }

      .sidebar-menu {
        list-style: none;
      }

      .sidebar-menu li {
        margin-bottom: 0.5rem;
      }

      .sidebar-menu a {
        display: flex;
        align-items: center;
        gap: 1rem;
        padding: 1rem;
        color: var(--text-color);
        text-decoration: none;
        border-radius: 8px;
        transition: var(--transition);
      }

      .sidebar-menu a i {
        width: 20px;
        color: var(--primary-color);
      }

      .sidebar-menu a:hover {
        background: rgba(201, 169, 89, 0.1);
      }

      .sidebar-menu a.active {
        background: var(--primary-color);
        color: var(--white);
      }

      .sidebar-menu a.active i {
        color: var(--white);
      }

      /* ===== MAIN CONTENT ===== */
      .main-content {
        background: var(--white);
        border-radius: 10px;
        box-shadow: var(--shadow);
        padding: 2rem;
      }

      .content-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 2rem;
        padding-bottom: 1rem;
        border-bottom: 2px solid #eee;
      }

      .content-header h2 {
        color: var(--secondary-color);
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }

      .content-header h2 i {
        color: var(--primary-color);
      }

      .btn-add {
        background: var(--success-color);
        color: var(--white);
        border: none;
        padding: 0.8rem 1.5rem;
        border-radius: 8px;
        cursor: pointer;
        transition: var(--transition);
        display: flex;
        align-items: center;
        gap: 0.5rem;
        font-size: 0.95rem;
        font-weight: 500;
      }

      .btn-add:hover {
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(39, 174, 96, 0.3);
      }

      /* ===== CRUD TABLE ===== */
      .table-responsive {
        overflow-x: auto;
      }

      .crud-table {
        width: 100%;
        border-collapse: collapse;
      }

      .crud-table th {
        background: var(--light-bg);
        padding: 1rem;
        text-align: left;
        font-weight: 600;
        color: var(--secondary-color);
        border-bottom: 2px solid #ddd;
      }

      .crud-table td {
        padding: 1rem;
        border-bottom: 1px solid #eee;
        vertical-align: middle;
      }

      .crud-table tr:hover {
        background: rgba(201, 169, 89, 0.05);
      }

      /* Image preview in table */
      .table-image {
        width: 60px;
        height: 60px;
        border-radius: 8px;
        object-fit: cover;
        box-shadow: var(--shadow);
      }

      /* Action buttons */
      .action-buttons {
        display: flex;
        gap: 0.5rem;
      }

      .btn-edit {
        background: var(--warning-color);
        color: var(--white);
        border: none;
        width: 35px;
        height: 35px;
        border-radius: 6px;
        cursor: pointer;
        transition: var(--transition);
        display: inline-flex;
        align-items: center;
        justify-content: center;
      }

      .btn-edit:hover {
        background: #e67e22;
        transform: translateY(-2px);
      }

      .btn-delete {
        background: var(--danger-color);
        color: var(--white);
        border: none;
        width: 35px;
        height: 35px;
        border-radius: 6px;
        cursor: pointer;
        transition: var(--transition);
        display: inline-flex;
        align-items: center;
        justify-content: center;
      }

      .btn-delete:hover {
        background: #c0392b;
        transform: translateY(-2px);
      }

      /* Status badges */
      .status-badge {
        padding: 0.3rem 1rem;
        border-radius: 20px;
        font-size: 0.8rem;
        font-weight: 500;
        display: inline-block;
      }

      .status-active {
        background: rgba(39, 174, 96, 0.1);
        color: var(--success-color);
      }

      .status-inactive {
        background: rgba(231, 76, 60, 0.1);
        color: var(--danger-color);
      }

      /* Category badges */
      .category-badge {
        padding: 0.3rem 1rem;
        border-radius: 20px;
        font-size: 0.8rem;
        background: rgba(201, 169, 89, 0.1);
        color: var(--primary-color);
      }

      /* ===== CARDS GRID ===== */
      .cards-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 2rem;
        margin-top: 2rem;
      }

      .stat-card {
        background: var(--white);
        border-radius: 10px;
        padding: 1.5rem;
        box-shadow: var(--shadow);
        display: flex;
        align-items: center;
        gap: 1.5rem;
        transition: var(--transition);
        border: 1px solid #eee;
      }

      .stat-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 5px 20px rgba(0, 0, 0, 0.15);
      }

      .stat-icon {
        width: 60px;
        height: 60px;
        background: rgba(201, 169, 89, 0.1);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.8rem;
        color: var(--primary-color);
      }

      .stat-info h3 {
        font-size: 0.9rem;
        color: #666;
        margin-bottom: 0.3rem;
      }

      .stat-info .stat-number {
        font-size: 2rem;
        font-weight: 600;
        color: var(--secondary-color);
      }

      /* ===== MODAL ===== */
      .modal {
        display: none;
        position: fixed;
        z-index: 1100;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.5);
        overflow-y: auto;
        animation: fadeIn 0.3s ease;
      }

      .modal-content {
        background-color: var(--white);
        margin: 5% auto;
        padding: 2rem;
        border-radius: 10px;
        max-width: 600px;
        width: 90%;
        position: relative;
        animation: slideIn 0.3s ease;
      }

      .modal-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 1.5rem;
        padding-bottom: 1rem;
        border-bottom: 2px solid #eee;
      }

      .modal-header h3 {
        color: var(--secondary-color);
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }

      .modal-header h3 i {
        color: var(--primary-color);
      }

      .close {
        font-size: 2rem;
        cursor: pointer;
        color: #999;
        transition: var(--transition);
        line-height: 1;
      }

      .close:hover {
        color: var(--danger-color);
      }

      /* ===== FORMS ===== */
      .form-group {
        margin-bottom: 1.5rem;
      }

      .form-group label {
        display: block;
        margin-bottom: 0.5rem;
        font-weight: 500;
        color: var(--text-color);
      }

      .form-group label i {
        color: var(--primary-color);
        margin-right: 0.5rem;
      }

      .form-group input,
      .form-group select,
      .form-group textarea {
        width: 100%;
        padding: 0.8rem 1rem;
        border: 2px solid #e1e1e1;
        border-radius: 8px;
        font-size: 1rem;
        transition: var(--transition);
        font-family: inherit;
      }

      .form-group input:focus,
      .form-group select:focus,
      .form-group textarea:focus {
        outline: none;
        border-color: var(--primary-color);
        box-shadow: 0 0 0 3px rgba(201, 169, 89, 0.1);
      }

      /* Image preview */
      .image-preview {
        margin-top: 1rem;
        max-width: 200px;
        border-radius: 8px;
        overflow: hidden;
        box-shadow: var(--shadow);
      }

      .image-preview img {
        width: 100%;
        height: auto;
        display: block;
      }

      /* Modal actions */
      .modal-actions {
        display: flex;
        gap: 1rem;
        margin-top: 2rem;
      }

      .btn-save {
        flex: 1;
        background: var(--success-color);
        color: var(--white);
        border: none;
        padding: 1rem;
        border-radius: 8px;
        cursor: pointer;
        transition: var(--transition);
        font-size: 1rem;
        font-weight: 500;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 0.5rem;
      }

      .btn-save:hover {
        background: #229954;
        transform: translateY(-2px);
      }

      .btn-cancel {
        flex: 1;
        background: #95a5a6;
        color: var(--white);
        border: none;
        padding: 1rem;
        border-radius: 8px;
        cursor: pointer;
        transition: var(--transition);
        font-size: 1rem;
        font-weight: 500;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 0.5rem;
      }

      .btn-cancel:hover {
        background: #7f8c8d;
        transform: translateY(-2px);
      }

      /* ===== DELETE CONFIRMATION ===== */
      .delete-confirm {
        text-align: center;
        padding: 1rem 0;
      }

      .delete-confirm i {
        font-size: 4rem;
        color: var(--danger-color);
        margin-bottom: 1rem;
      }

      .delete-confirm h3 {
        color: var(--secondary-color);
        margin-bottom: 0.5rem;
      }

      .delete-confirm p {
        color: #666;
        margin-bottom: 2rem;
      }

      .delete-actions {
        display: flex;
        gap: 1rem;
      }

      .btn-delete-confirm {
        flex: 1;
        background: var(--danger-color);
        color: var(--white);
        border: none;
        padding: 1rem;
        border-radius: 8px;
        cursor: pointer;
        transition: var(--transition);
        font-size: 1rem;
        font-weight: 500;
      }

      .btn-delete-confirm:hover {
        background: #c0392b;
      }

      /* ===== ALERTS ===== */
      .alert {
        padding: 1rem;
        border-radius: 8px;
        margin-bottom: 1.5rem;
        display: flex;
        align-items: center;
        gap: 0.5rem;
        animation: slideIn 0.3s ease;
      }

      .alert.success {
        background: rgba(39, 174, 96, 0.1);
        color: var(--success-color);
        border: 1px solid rgba(39, 174, 96, 0.2);
      }

      .alert.error {
        background: rgba(231, 76, 60, 0.1);
        color: var(--danger-color);
        border: 1px solid rgba(231, 76, 60, 0.2);
      }

      /* ===== ANIMATIONS ===== */
      @keyframes slideIn {
        from {
          opacity: 0;
          transform: translateY(-30px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      /* ===== RESPONSIVE ===== */
      @media screen and (max-width: 1024px) {
        .dashboard-container {
          grid-template-columns: 1fr;
        }

        .sidebar {
          position: static;
        }

        .sidebar-menu {
          display: flex;
          flex-wrap: wrap;
          gap: 0.5rem;
        }

        .sidebar-menu li {
          flex: 1 1 auto;
        }
      }

      @media screen and (max-width: 768px) {
        .header-content {
          flex-direction: column;
          gap: 1rem;
          text-align: center;
        }

        .admin-profile {
          flex-direction: column;
          gap: 1rem;
        }

        .admin-info {
          flex-direction: column;
          text-align: center;
        }

        .admin-details {
          text-align: center;
        }

        .content-header {
          flex-direction: column;
          gap: 1rem;
          text-align: center;
        }

        .btn-add {
          width: 100%;
          justify-content: center;
        }

        .action-buttons {
          flex-direction: column;
        }

        .modal-content {
          margin: 10% auto;
          padding: 1.5rem;
        }
      }
    </style>
  </head>
  <body>
    <!-- Admin Header -->
    <header class="admin-header">
      <div class="header-content">
        <div class="logo-area">
          <i class="fas fa-utensils"></i>
          <div>
            <h1>Golden Hills Admin</h1>
            <span>Restaurant Madinah</span>
          </div>
        </div>
        <div class="admin-profile">
          <div class="admin-info">
            <div class="admin-avatar">
              <i class="fas fa-user-cog"></i>
            </div>
            <div class="admin-details">
              <div class="admin-name">Admin Restaurant</div>
              <div class="admin-role">Super Administrator</div>
            </div>
          </div>
          <button class="btn-logout" onclick="logout()">
            <i class="fas fa-sign-out-alt"></i> Logout
          </button>
        </div>
      </div>
    </header>

    <div class="container">
      <!-- Dashboard Container -->
      <div class="dashboard-container">
        <!-- Sidebar -->
        <aside class="sidebar">
          <ul class="sidebar-menu">
            <li>
              <a
                href="#dashboard"
                class="active"
                onclick="showSection('dashboard')"
              >
                <i class="fas fa-tachometer-alt"></i> Dashboard
              </a>
            </li>
            <li>
              <a href="#gallery" onclick="showSection('gallery')">
                <i class="fas fa-images"></i> Our Restaurant
              </a>
            </li>
            <li>
              <a href="#menu" onclick="showSection('menu')">
                <i class="fas fa-utensils"></i> Our Menu
              </a>
            </li>
            <li>
              <a href="#payments" onclick="showSection('payments')">
                <i class="fas fa-credit-card"></i> Payment Methods
              </a>
            </li>
          </ul>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
          <!-- Alert Container -->
          <div id="alertContainer"></div>

          <!-- Dashboard Section -->
          <section id="dashboardSection">
            <div class="content-header">
              <h2><i class="fas fa-tachometer-alt"></i> Dashboard Overview</h2>
            </div>

            <div class="cards-grid">
              <div class="stat-card">
                <div class="stat-icon">
                  <i class="fas fa-images"></i>
                </div>
                <div class="stat-info">
                  <h3>Restaurant Photos</h3>
                  <div class="stat-number" id="totalGallery">3</div>
                </div>
              </div>

              <div class="stat-card">
                <div class="stat-icon">
                  <i class="fas fa-utensils"></i>
                </div>
                <div class="stat-info">
                  <h3>Menu Items</h3>
                  <div class="stat-number" id="totalMenu">8</div>
                </div>
              </div>

              <div class="stat-card">
                <div class="stat-icon">
                  <i class="fas fa-credit-card"></i>
                </div>
                <div class="stat-info">
                  <h3>Payment Methods</h3>
                  <div class="stat-number" id="totalPayments">6</div>
                </div>
              </div>
            </div>
          </section>

          <!-- Gallery Section -->
          <section id="gallerySection" style="display: none">
            <div class="content-header">
              <h2><i class="fas fa-images"></i> Manage Restaurant Photos</h2>
              <button class="btn-add" onclick="openAddModal('gallery')">
                <i class="fas fa-plus"></i> Add New Photo
              </button>
            </div>

            <div class="table-responsive">
              <table class="crud-table">
                <thead>
                  <tr>
                    <th>ID</th>
                    <th>Image</th>
                    <th>Title</th>
                    <th>Description</th>
                    <th>Status</th>
                    <th>Actions</th>
                  </tr>
                </thead>
                <tbody id="galleryTableBody">
                  <!-- Gallery items will be inserted here -->
                </tbody>
              </table>
            </div>
          </section>

          <!-- Menu Section -->
          <section id="menuSection" style="display: none">
            <div class="content-header">
              <h2><i class="fas fa-utensils"></i> Manage Menu Items</h2>
              <button class="btn-add" onclick="openAddModal('menu')">
                <i class="fas fa-plus"></i> Add New Menu Item
              </button>
            </div>

            <div class="table-responsive">
              <table class="crud-table">
                <thead>
                  <tr>
                    <th>ID</th>
                    <th>Image</th>
                    <th>Name</th>
                    <th>Category</th>
                    <th>Price</th>
                    <th>Status</th>
                    <th>Actions</th>
                  </tr>
                </thead>
                <tbody id="menuTableBody">
                  <!-- Menu items will be inserted here -->
                </tbody>
              </table>
            </div>
          </section>

          <!-- Payments Section -->
          <section id="paymentsSection" style="display: none">
            <div class="content-header">
              <h2><i class="fas fa-credit-card"></i> Manage Payment Methods</h2>
              <button class="btn-add" onclick="openAddModal('payment')">
                <i class="fas fa-plus"></i> Add Payment Method
              </button>
            </div>

            <div class="table-responsive">
              <table class="crud-table">
                <thead>
                  <tr>
                    <th>ID</th>
                    <th>Icon</th>
                    <th>Name</th>
                    <th>Description</th>
                    <th>Status</th>
                    <th>Actions</th>
                  </tr>
                </thead>
                <tbody id="paymentsTableBody">
                  <!-- Payment items will be inserted here -->
                </tbody>
              </table>
            </div>
          </section>
        </main>
      </div>
    </div>

    <!-- Add/Edit Modal -->
    <div id="itemModal" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h3 id="modalTitle">
            <i class="fas fa-plus"></i> <span id="modalAction">Add</span>
            <span id="modalType">Item</span>
          </h3>
          <span class="close" onclick="closeModal()">&times;</span>
        </div>
        <form id="itemForm" onsubmit="saveItem(event)">
          <input type="hidden" id="itemId" />
          <input type="hidden" id="itemType" />

          <div id="galleryFields" style="display: none">
            <div class="form-group">
              <label><i class="fas fa-image"></i> Image URL</label>
              <input
                type="url"
                id="galleryImage"
                placeholder="Enter image URL"
                required
              />
            </div>
            <div class="form-group">
              <label><i class="fas fa-heading"></i> Title</label>
              <input
                type="text"
                id="galleryTitle"
                placeholder="Enter photo title"
                required
              />
            </div>
            <div class="form-group">
              <label><i class="fas fa-align-left"></i> Description</label>
              <textarea
                id="galleryDesc"
                rows="3"
                placeholder="Enter photo description"
              ></textarea>
            </div>
          </div>

          <div id="menuFields" style="display: none">
            <div class="form-group">
              <label><i class="fas fa-image"></i> Image URL</label>
              <input
                type="url"
                id="menuImage"
                placeholder="Enter image URL"
                required
              />
            </div>
            <div class="form-group">
              <label><i class="fas fa-heading"></i> Item Name</label>
              <input
                type="text"
                id="menuName"
                placeholder="Enter item name"
                required
              />
            </div>
            <div class="form-group">
              <label><i class="fas fa-tag"></i> Category</label>
              <select id="menuCategory" required>
                <option value="appetizers">Appetizers</option>
                <option value="mains">Main Course</option>
                <option value="desserts">Desserts</option>
                <option value="drinks">Drinks</option>
              </select>
            </div>
            <div class="form-group">
              <label><i class="fas fa-money-bill"></i> Price (SAR)</label>
              <input
                type="number"
                id="menuPrice"
                min="0"
                step="0.01"
                placeholder="Enter price"
                required
              />
            </div>
          </div>

          <div id="paymentFields" style="display: none">
            <div class="form-group">
              <label><i class="fas fa-icon"></i> Icon Class</label>
              <input
                type="text"
                id="paymentIcon"
                placeholder="e.g., fab fa-cc-visa"
                required
              />
              <small style="color: #666">Font Awesome icon class</small>
            </div>
            <div class="form-group">
              <label><i class="fas fa-heading"></i> Payment Name</label>
              <input
                type="text"
                id="paymentName"
                placeholder="Enter payment method name"
                required
              />
            </div>
            <div class="form-group">
              <label><i class="fas fa-align-left"></i> Description</label>
              <textarea
                id="paymentDesc"
                rows="3"
                placeholder="Enter description (optional)"
              ></textarea>
            </div>
          </div>

          <div class="form-group">
            <label><i class="fas fa-toggle-on"></i> Status</label>
            <select id="itemStatus" required>
              <option value="active">Active</option>
              <option value="inactive">Inactive</option>
            </select>
          </div>

          <div class="image-preview" id="imagePreview" style="display: none">
            <img id="previewImg" src="" alt="Preview" />
          </div>

          <div class="modal-actions">
            <button type="submit" class="btn-save">
              <i class="fas fa-save"></i> Save
            </button>
            <button type="button" class="btn-cancel" onclick="closeModal()">
              <i class="fas fa-times"></i> Cancel
            </button>
          </div>
        </form>
      </div>
    </div>

    <!-- Delete Confirmation Modal -->
    <div id="deleteModal" class="modal">
      <div class="modal-content">
        <div class="delete-confirm">
          <i class="fas fa-exclamation-triangle"></i>
          <h3>Confirm Delete</h3>
          <p id="deleteMessage">
            Are you sure you want to delete this item? This action cannot be
            undone.
          </p>
          <div class="delete-actions">
            <button class="btn-delete-confirm" onclick="confirmDelete()">
              <i class="fas fa-trash"></i> Delete
            </button>
            <button class="btn-cancel" onclick="closeDeleteModal()">
              <i class="fas fa-times"></i> Cancel
            </button>
          </div>
        </div>
      </div>
    </div>

    <script>
      // Sample data
      let galleryData = [
        {
          id: 1,
          image: "https://images.unsplash.com/photo-1517248135467-4c7edcad34c4",
          title: "Main Dining Hall",
          description: "Elegant main dining area",
          status: "active",
        },
        {
          id: 2,
          image: "https://images.unsplash.com/photo-1552566626-52f8b828add9",
          title: "Private Room",
          description: "Cozy private dining",
          status: "active",
        },
        {
          id: 3,
          image: "https://images.unsplash.com/photo-1414235077428-338989a2e8c0",
          title: "Outdoor Seating",
          description: "Beautiful outdoor area",
          status: "active",
        },
      ];

      let menuData = [
        {
          id: 1,
          image: "https://images.unsplash.com/photo-1546069901-ba9599a7e63c",
          name: "Hummus",
          category: "appetizers",
          price: 25,
          status: "active",
        },
        {
          id: 2,
          image: "https://images.unsplash.com/photo-1604329760661-e71dc83f8f26",
          name: "Falafel",
          category: "appetizers",
          price: 20,
          status: "active",
        },
        {
          id: 3,
          image: "https://images.unsplash.com/photo-1567620905732-2d1ec7ab7445",
          name: "Mandi Rice with Chicken",
          category: "mains",
          price: 45,
          status: "active",
        },
        {
          id: 4,
          image: "https://images.unsplash.com/photo-1559847844-5315695dadae",
          name: "Kabsa",
          category: "mains",
          price: 55,
          status: "active",
        },
        {
          id: 5,
          image: "https://images.unsplash.com/photo-1563729784474-d77dbb933a9e",
          name: "Baklava",
          category: "desserts",
          price: 15,
          status: "active",
        },
        {
          id: 6,
          image: "https://images.unsplash.com/photo-1551024506-0bccd828d307",
          name: "Kunafa",
          category: "desserts",
          price: 18,
          status: "active",
        },
        {
          id: 7,
          image: "https://images.unsplash.com/photo-1556679343-c7306c1976bc",
          name: "Arabic Coffee",
          category: "drinks",
          price: 10,
          status: "active",
        },
        {
          id: 8,
          image: "https://images.unsplash.com/photo-1544145945-f90425340c7e",
          name: "Fresh Orange Juice",
          category: "drinks",
          price: 12,
          status: "active",
        },
      ];

      let paymentData = [
        {
          id: 1,
          icon: "fab fa-cc-visa",
          name: "Visa",
          description: "Credit/Debit Visa",
          status: "active",
        },
        {
          id: 2,
          icon: "fab fa-cc-mastercard",
          name: "Mastercard",
          description: "Credit/Debit Mastercard",
          status: "active",
        },
        {
          id: 3,
          icon: "fab fa-cc-amex",
          name: "American Express",
          description: "American Express cards",
          status: "active",
        },
        {
          id: 4,
          icon: "fas fa-money-bill-wave",
          name: "Cash",
          description: "Pay with cash",
          status: "active",
        },
        {
          id: 5,
          icon: "fas fa-mobile-alt",
          name: "Apple Pay",
          description: "Contactless payment",
          status: "active",
        },
        {
          id: 6,
          icon: "fas fa-credit-card",
          name: "Mada",
          description: "Local Saudi cards",
          status: "active",
        },
      ];

      let currentDeleteId = null;
      let currentDeleteType = null;

      // Initialize tables
      document.addEventListener("DOMContentLoaded", function () {
        renderGalleryTable();
        renderMenuTable();
        renderPaymentsTable();
        updateStats();
      });

      // Show section
      function showSection(section) {
        // Update active menu
        document.querySelectorAll(".sidebar-menu a").forEach((link) => {
          link.classList.remove("active");
        });
        event.target.closest("a").classList.add("active");

        // Hide all sections
        document.getElementById("dashboardSection").style.display = "none";
        document.getElementById("gallerySection").style.display = "none";
        document.getElementById("menuSection").style.display = "none";
        document.getElementById("paymentsSection").style.display = "none";

        // Show selected section
        if (section === "dashboard") {
          document.getElementById("dashboardSection").style.display = "block";
          updateStats();
        } else if (section === "gallery") {
          document.getElementById("gallerySection").style.display = "block";
          renderGalleryTable();
        } else if (section === "menu") {
          document.getElementById("menuSection").style.display = "block";
          renderMenuTable();
        } else if (section === "payments") {
          document.getElementById("paymentsSection").style.display = "block";
          renderPaymentsTable();
        }
      }

      // Render gallery table
      function renderGalleryTable() {
        const tbody = document.getElementById("galleryTableBody");
        tbody.innerHTML = "";

        galleryData.forEach((item) => {
          const row = document.createElement("tr");
          row.innerHTML = `
                    <td>#${item.id}</td>
                    <td><img src="${item.image}" alt="${item.title}" class="table-image" onerror="this.src='https://via.placeholder.com/60'"></td>
                    <td>${item.title}</td>
                    <td>${item.description || "-"}</td>
                    <td><span class="status-badge ${item.status === "active" ? "status-active" : "status-inactive"}">${item.status}</span></td>
                    <td>
                        <div class="action-buttons">
                            <button class="btn-edit" onclick="openEditModal('gallery', ${item.id})"><i class="fas fa-edit"></i></button>
                            <button class="btn-delete" onclick="openDeleteModal('gallery', ${item.id})"><i class="fas fa-trash"></i></button>
                        </div>
                    </td>
                `;
          tbody.appendChild(row);
        });
      }

      // Render menu table
      function renderMenuTable() {
        const tbody = document.getElementById("menuTableBody");
        tbody.innerHTML = "";

        menuData.forEach((item) => {
          const row = document.createElement("tr");
          row.innerHTML = `
                    <td>#${item.id}</td>
                    <td><img src="${item.image}" alt="${item.name}" class="table-image" onerror="this.src='https://via.placeholder.com/60'"></td>
                    <td>${item.name}</td>
                    <td><span class="category-badge">${item.category}</span></td>
                    <td>${item.price} SAR</td>
                    <td><span class="status-badge ${item.status === "active" ? "status-active" : "status-inactive"}">${item.status}</span></td>
                    <td>
                        <div class="action-buttons">
                            <button class="btn-edit" onclick="openEditModal('menu', ${item.id})"><i class="fas fa-edit"></i></button>
                            <button class="btn-delete" onclick="openDeleteModal('menu', ${item.id})"><i class="fas fa-trash"></i></button>
                        </div>
                    </td>
                `;
          tbody.appendChild(row);
        });
      }

      // Render payments table
      function renderPaymentsTable() {
        const tbody = document.getElementById("paymentsTableBody");
        tbody.innerHTML = "";

        paymentData.forEach((item) => {
          const row = document.createElement("tr");
          row.innerHTML = `
                    <td>#${item.id}</td>
                    <td><i class="${item.icon}" style="font-size: 2rem; color: var(--primary-color);"></i></td>
                    <td>${item.name}</td>
                    <td>${item.description || "-"}</td>
                    <td><span class="status-badge ${item.status === "active" ? "status-active" : "status-inactive"}">${item.status}</span></td>
                    <td>
                        <div class="action-buttons">
                            <button class="btn-edit" onclick="openEditModal('payment', ${item.id})"><i class="fas fa-edit"></i></button>
                            <button class="btn-delete" onclick="openDeleteModal('payment', ${item.id})"><i class="fas fa-trash"></i></button>
                        </div>
                    </td>
                `;
          tbody.appendChild(row);
        });
      }

      // Update statistics
      function updateStats() {
        document.getElementById("totalGallery").textContent =
          galleryData.length;
        document.getElementById("totalMenu").textContent = menuData.length;
        document.getElementById("totalPayments").textContent =
          paymentData.length;
      }

      // Open add modal
      function openAddModal(type) {
        document.getElementById("itemId").value = "";
        document.getElementById("itemType").value = type;
        document.getElementById("modalAction").textContent = "Add";

        // Set modal title
        let typeName = "";
        if (type === "gallery") typeName = "Photo";
        else if (type === "menu") typeName = "Menu Item";
        else typeName = "Payment Method";
        document.getElementById("modalType").textContent = typeName;

        // Show/hide fields
        document.getElementById("galleryFields").style.display =
          type === "gallery" ? "block" : "none";
        document.getElementById("menuFields").style.display =
          type === "menu" ? "block" : "none";
        document.getElementById("paymentFields").style.display =
          type === "payment" ? "block" : "none";

        // Clear form
        document.getElementById("itemForm").reset();
        document.getElementById("imagePreview").style.display = "none";

        // Show modal
        document.getElementById("itemModal").style.display = "block";
      }

      // Open edit modal
      function openEditModal(type, id) {
        document.getElementById("itemId").value = id;
        document.getElementById("itemType").value = type;
        document.getElementById("modalAction").textContent = "Edit";

        // Set modal title
        let typeName = "";
        if (type === "gallery") typeName = "Photo";
        else if (type === "menu") typeName = "Menu Item";
        else typeName = "Payment Method";
        document.getElementById("modalType").textContent = typeName;

        // Show/hide fields and populate data
        if (type === "gallery") {
          document.getElementById("galleryFields").style.display = "block";
          document.getElementById("menuFields").style.display = "none";
          document.getElementById("paymentFields").style.display = "none";

          const item = galleryData.find((i) => i.id === id);
          if (item) {
            document.getElementById("galleryImage").value = item.image;
            document.getElementById("galleryTitle").value = item.title;
            document.getElementById("galleryDesc").value =
              item.description || "";
            document.getElementById("itemStatus").value = item.status;

            // Show preview
            document.getElementById("previewImg").src = item.image;
            document.getElementById("imagePreview").style.display = "block";
          }
        } else if (type === "menu") {
          document.getElementById("galleryFields").style.display = "none";
          document.getElementById("menuFields").style.display = "block";
          document.getElementById("paymentFields").style.display = "none";

          const item = menuData.find((i) => i.id === id);
          if (item) {
            document.getElementById("menuImage").value = item.image;
            document.getElementById("menuName").value = item.name;
            document.getElementById("menuCategory").value = item.category;
            document.getElementById("menuPrice").value = item.price;
            document.getElementById("itemStatus").value = item.status;

            // Show preview
            document.getElementById("previewImg").src = item.image;
            document.getElementById("imagePreview").style.display = "block";
          }
        } else if (type === "payment") {
          document.getElementById("galleryFields").style.display = "none";
          document.getElementById("menuFields").style.display = "none";
          document.getElementById("paymentFields").style.display = "block";

          const item = paymentData.find((i) => i.id === id);
          if (item) {
            document.getElementById("paymentIcon").value = item.icon;
            document.getElementById("paymentName").value = item.name;
            document.getElementById("paymentDesc").value =
              item.description || "";
            document.getElementById("itemStatus").value = item.status;
          }
        }

        // Show modal
        document.getElementById("itemModal").style.display = "block";
      }

      // Close modal
      function closeModal() {
        document.getElementById("itemModal").style.display = "none";
      }

      // Save item
      function saveItem(event) {
        event.preventDefault();

        const type = document.getElementById("itemType").value;
        const id = document.getElementById("itemId").value;
        const status = document.getElementById("itemStatus").value;

        if (type === "gallery") {
          const image = document.getElementById("galleryImage").value;
          const title = document.getElementById("galleryTitle").value;
          const description = document.getElementById("galleryDesc").value;

          if (id) {
            // Edit existing
            const index = galleryData.findIndex((i) => i.id === parseInt(id));
            if (index !== -1) {
              galleryData[index] = {
                ...galleryData[index],
                image,
                title,
                description,
                status,
              };
              showAlert("success", "Photo updated successfully!");
            }
          } else {
            // Add new
            const newId = Math.max(...galleryData.map((i) => i.id)) + 1;
            galleryData.push({ id: newId, image, title, description, status });
            showAlert("success", "Photo added successfully!");
          }
          renderGalleryTable();
        } else if (type === "menu") {
          const image = document.getElementById("menuImage").value;
          const name = document.getElementById("menuName").value;
          const category = document.getElementById("menuCategory").value;
          const price = parseFloat(document.getElementById("menuPrice").value);

          if (id) {
            // Edit existing
            const index = menuData.findIndex((i) => i.id === parseInt(id));
            if (index !== -1) {
              menuData[index] = {
                ...menuData[index],
                image,
                name,
                category,
                price,
                status,
              };
              showAlert("success", "Menu item updated successfully!");
            }
          } else {
            // Add new
            const newId = Math.max(...menuData.map((i) => i.id)) + 1;
            menuData.push({ id: newId, image, name, category, price, status });
            showAlert("success", "Menu item added successfully!");
          }
          renderMenuTable();
        } else if (type === "payment") {
          const icon = document.getElementById("paymentIcon").value;
          const name = document.getElementById("paymentName").value;
          const description = document.getElementById("paymentDesc").value;

          if (id) {
            // Edit existing
            const index = paymentData.findIndex((i) => i.id === parseInt(id));
            if (index !== -1) {
              paymentData[index] = {
                ...paymentData[index],
                icon,
                name,
                description,
                status,
              };
              showAlert("success", "Payment method updated successfully!");
            }
          } else {
            // Add new
            const newId = Math.max(...paymentData.map((i) => i.id)) + 1;
            paymentData.push({ id: newId, icon, name, description, status });
            showAlert("success", "Payment method added successfully!");
          }
          renderPaymentsTable();
        }

        updateStats();
        closeModal();
      }

      // Open delete modal
      function openDeleteModal(type, id) {
        currentDeleteType = type;
        currentDeleteId = id;

        let itemName = "";
        if (type === "gallery") {
          const item = galleryData.find((i) => i.id === id);
          itemName = item ? item.title : "this photo";
        } else if (type === "menu") {
          const item = menuData.find((i) => i.id === id);
          itemName = item ? item.name : "this menu item";
        } else {
          const item = paymentData.find((i) => i.id === id);
          itemName = item ? item.name : "this payment method";
        }

        document.getElementById("deleteMessage").textContent =
          `Are you sure you want to delete "${itemName}"? This action cannot be undone.`;
        document.getElementById("deleteModal").style.display = "block";
      }

      // Confirm delete
      function confirmDelete() {
        if (currentDeleteType === "gallery") {
          galleryData = galleryData.filter((i) => i.id !== currentDeleteId);
          renderGalleryTable();
          showAlert("success", "Photo deleted successfully!");
        } else if (currentDeleteType === "menu") {
          menuData = menuData.filter((i) => i.id !== currentDeleteId);
          renderMenuTable();
          showAlert("success", "Menu item deleted successfully!");
        } else if (currentDeleteType === "payment") {
          paymentData = paymentData.filter((i) => i.id !== currentDeleteId);
          renderPaymentsTable();
          showAlert("success", "Payment method deleted successfully!");
        }

        updateStats();
        closeDeleteModal();
      }

      // Close delete modal
      function closeDeleteModal() {
        document.getElementById("deleteModal").style.display = "none";
        currentDeleteId = null;
        currentDeleteType = null;
      }

      // Show alert
      function showAlert(type, message) {
        const alertContainer = document.getElementById("alertContainer");
        const icon =
          type === "success" ? "fa-check-circle" : "fa-exclamation-circle";

        alertContainer.innerHTML = `
                <div class="alert ${type}">
                    <i class="fas ${icon}"></i>
                    <span>${message}</span>
                </div>
            `;

        setTimeout(() => {
          alertContainer.innerHTML = "";
        }, 3000);
      }

      // Logout function
      function logout() {
        if (confirm("Are you sure you want to logout?")) {
          window.location.href = "index.html";
        }
      }

      // Image preview on input change
      document
        .getElementById("galleryImage")
        ?.addEventListener("input", function (e) {
          if (e.target.value) {
            document.getElementById("previewImg").src = e.target.value;
            document.getElementById("imagePreview").style.display = "block";
          }
        });

      document
        .getElementById("menuImage")
        ?.addEventListener("input", function (e) {
          if (e.target.value) {
            document.getElementById("previewImg").src = e.target.value;
            document.getElementById("imagePreview").style.display = "block";
          }
        });
    </script>
  </body>
</html>
